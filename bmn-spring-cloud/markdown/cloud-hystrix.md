## hystrix 服务容错保护

### 远程调用问题
 * 当调用多个远程服务时，某个服务出现延迟。
 在高并发情况下，由于单个服务的延迟，可能导致所有请求都处于延迟状态，甚至在几秒钟使服务处于负载饱和的状态，
 资源耗尽，直到不可用。最终导致分布式系统不可用这就是“雪崩”
 
### hystrix解决方案
 * Fallback（失败快速返回）：当某个服务单元发生故障之后，通过断路器的故障监控，向调用方返回一个错误响应，而不是长时间等待。
 这样就不会使得线程因调用故障服务被长时间占用不释放。避免了故障在分布式系统中蔓延
 * 资源/依赖隔离（线程池隔离）：它会为每一个依赖服务创建一个独立线程池，这样就算某个依赖服务出现延迟过高的情况，也只是该
 依赖服务的调用产生影响，而不会拖慢其它的依赖服务。
 
### hystrix熔断参数
 * 滑动窗口大小（20）
 * 熔断器开关间隔（5s）
 * 错误率（50%）
 * 每当20个请求，有50%失败时，熔断器就会打开，此时再调用此服务，直接返回失败。不再远程调用服务。
 直到5s后，重新检测该触发条件，判断是否把熔断器关闭，或者是否继续打开。
 
### hystrix 请求合并

### hystrix 请求缓存