## Eureka 服务治理

### 服务治理
 * 多服务问题，首当其冲的是子系统之间的通讯问题。由于子系统不再同一个环境下，那就需要远程调用，
 就需要ip地址，如果各个维护地址，当ip变化时子系统需要维护。
   + 通过服务治理解决上述问题

### Eureka-server
 * 提供服务注册
 * 提供的服务
   + 服务注册
   + 失效剔除：默认每隔一段时间（默认60秒），将当前清单中超时（默认90秒）没有续约的服务剔除
   + 自我保护：运行期间，会统计心跳失败比例在15分钟之内是否低于85%(通常由于网络不稳定导致)。
   server会将当前的实例注册信息保护起来，让这些实例不会过期。尽可能保护这些注册信息。
### Eureka-client
 * 分为服务提供者和服务消费者
   + 一个服务可以即是提供者，也是消费者
   + 一个服务也可以不提供服务，只是消费者
 * 服务提供者
   + 向Eureka-server注册服务，启动时会通过发送rest请求方式将自己注册到server
   + 服务续约：注册完成后，服务提供者会维护一个心跳来告诉server，我还活着。
   + 服务下线：当服务正常关闭时，会触发下线rest请求，通过server下线。
 * 服务消费者
   + 获取服务：启动服务消费者时，会发送rest请求获取server上的服务清单
   + 服务调用：服务消费者，拿到服务清单后。通过服务名调用远程服务（优先访问同处一个zone中的服务提供方）
   
### 高可用
 * 通过集群相互注册实现高可用
   

