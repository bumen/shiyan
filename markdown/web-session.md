## session管理

### 应用服务器集群的session管理
 * session复制
   + 早期企业应用系统使用较多的一种管理方案
   + 开启web容器的session复制功能，在集群中几台服务器之间同步session
   当一台服务器宕机，不会影响session丢失。本机读取session很快。
   + 缺点：
   集群大的情况下，需要大量的session复制，占用服务器和网络大量资源。
   如果用户多情况下每台服务器都有备份，会出现内存不够
   
 * session绑定
   + 通过负载均衡的源地址hash算法实现。每次请求都去同一台服务器
   + 缺点：
   如果服务器宕机，则session丢失
   虽然大部分使用此负载均衡，但很少利用这个算法进行session管理
 
 * 利用cookie记录session
   + 当session记录到客户端，每次请求都带上session，服务器修改完再响应给客户端
   + 缺点：
   cookie大小有限
   每次请求都传cookie，影响性能
   如果用户关闭cookie，则不能使用
   + 优点：
   简单易用，可用性高，支持应用服务器线性伸缩，而大部记录session信息比较小
   因此许多网站都使用
   
 * session服务器
   + 独立部署session服务器（集群），统一管理session
   + 优点：
   实现应用服务器有状态，与无状态分离