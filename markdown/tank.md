## ourpalm tank项目

### 目录
 * 分区列表服务器
   + 获取大区列表
 * 网关服务器
   + 提供与客户端的连接
   + 转发客户端请求到游戏服
 * 游戏服务器
   + 游戏业务逻辑服务器
   + 
 * gm服务器
### 整体架构
 * 一个大区下有多个网关服务器
   + 如：大区1下有多个网关服务器，提供服务
   
### 分区列表服务器
 * 一个大区下有从个网关向外提供服务
 * 用户打开游戏app后第一个请求的服务器，
 * 作用：获取外部公告，游戏区服列表，白名单入口
 * 公告实现：
   + 跟据不同渠道，获取相对应的公告内容
   
 * 区服列表获取实现
   + 先获取大区
   + 再通过循环匹配+hash算法，为大区返回一个可以提供服务器的区服ip
   
   1. 跟据app渠道不同，获取相对应的多个区服列表
   2. 再跟据app版本不同，过滤服列表
   3. 再跟据某个区服是否开启白名单，如果开启，则判断当前请求的ip是否为白名单ip
   4. 通过匹配算法，为大区分配一台服务器地址
   
### 网关服务器
 * 是游戏的入口
 * 一台网关下有多台游戏业务逻辑服
 * 作用：
   + 保持客户端连接
   + 转换客户端请求
   + 发送心跳
 * 提供大的并发连接，保证高的时实在线数
 
### 游戏服务器
 * 一个游戏服务器对应多台网关服务器
 * 一个游戏服务器可以处理同一大区下多台网关，发送过来的消息
 * 作用
   + 处理游戏业务
   + 游戏战斗业务， 通过线程池+加状态机实现
   
