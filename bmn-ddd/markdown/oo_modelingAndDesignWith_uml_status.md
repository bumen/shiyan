### 面向对象建模与设计 

### 状态建模
 * 描述为响应外部刺激而出现的操作序列，而不是描述操作做了什么，对什么进行操作或操作是如果实现的。
   + 事件对应外部刺激
   + 状态表示对象的取值
 * 状态模型：由多个状态图组成，每个类对应一个状态图
 
 
 
### 一些特别的属性和取值并不是同等重要的
 * 如：sex: 性别。1：表示男；2：表示女；其它：不重要
   + 所以有的取值是不重要的
   
   
### 事件
 * 常见的：信号事件，变更事件，时间事件
 
### 信号事件
 * 信号：从一个对象到另一个对象的明确的单向信息流动。如果给另一个对象发送信号的对象期待答复，但答复也是受第二个对象控制的
 独立信号，第二个对象会选择发送或不发送它。
 
 * 信号事件：发送或接收信号的事件
 
### 变更事件
 * 由满足布尔表达而起的事件。意图是要不断测试表达式，只要为真事件就会发生
 * 变更事件UML表示法：when(表达式)
 
### 时间事件
 * 指在绝对时间上或在某个时间间隔内发生的事件所引起的事件
 * 绝对时间UML表示：when(时间表达式)
 * 时间段UML表示：after(时间间隔)
 
### 状态
 * 是对象取值和链接的抽象。将取值和链接的集合组成一个状态
   + 取值的不同表示不同的状态
   + 链接状态迁移方向，不同的链接产生不同的值，对应不同的状态
   
 * 状态确定对象对输入事件的响应。响应包括行为调用或状态变化。
 
 * 状态与事件之间有某种对称性。事件表示时间点，状态表示时间段。状态对应着对象接收的两次事件之间的时间间隔
 
### 迁移和状态
 * 迁移是指从一个状态到另一个状态的瞬时变化
 * 从源状态到目标状态一发生变化，就说是触发了迁移。
   + 下一状态的选择依赖于源状态和接收的事件
   
 * 警戒条件：是一个为了让迁移发生而必须为真的布尔表达式
   + 警戒条件只会触发一次，与变更事件区别由变更事件是要连接检查的
   
 * 迁移UML表示：从初始状态到目标状态的一条直线。箭头指向目标状态
   + 事件可以标记迁移，后面跟着放在方括号里的可选的警戒条件
   
### 状态图
 * 结点是状态，其有向弧是状态间的迁移。
 * 状态图详细说明了由事件序列引起的状态序列
 
 * 分类
   + 连接循环状态图
      - 不关心如果开始。只是对整体状态流转的一个描述
   + 单触发生存期状态图
      - 有初始状态和终止状态。在创建对象时进入初始状态，进入终止状态意味着对象被销毁
      
 * 状态图UML基本表示法
   ``` 
   +-----------+--------------------------------------------+
   | 状态图名称 |                                            |
   +-----------+                                            +
   |                                                        |
   |   +-----------+                          +----------+  |
   |   | 状态　     |    事件(属性)[条件]/效应   |  状态   　|  |
   |   | do/活动　  |------------------------->|          |  |
   |   |event/效应　|                          |          |  |
   |   +-----------+                          +----------+  |
   |                                                        |
   +--------------------------------------------------------+
   ```
   
   + 效应：附着在迁移或状态上，跟在"/"后面。多重效应要用逗号分隔，并发执行。（如果要顺序执行多重效应，就要创建中间状态）
   
### 状态图行为
 * 为了响应事件要做哪些工作
 
#### 活动效应
 * 效应：是对响应事件而执行的行为的引用。
 * 活动：是效应触发的实际行为
 
#### do 活动
 * 指持续了一段时间的一项活动。
 * 只能在某个状态内出现，不能附到迁移上。
 * do活动会被在执行过程收到的某事件中件；此事件可能会也可能不会引起迁移
 
#### 进入和退出活动
 * 如进入到某状态的迁移经常会执行相同的活动，在这种情况下，更简洁的做法是把活动依附在状态上。
 * 如果某状态有多个活动，执行顺序
    1. 进入迁移上的活动，进入活动，do活动，退出活动，退出迁移上的活动 
    
#### 完成迁移
 * 如果迁移箭头上不带事件名，就表示是自动迁移，当与源状态相关活动完成时就会触发迁移。
   + 这样的迁移就称为完成迁移
 * 当事件发生时，警戒条件只会测试一次，如果某个状态有一个或多个完成迁移，但并没有警戒条件得到满足，那么此状态会一直保持，
 并可能被卡住。
   + 所以警戒条件要注意，例举所有可能，避免卡住。
   
### 发送信号


### 子状态图
 * 将状态图中的一个状态，单独拿出来生成一个子状态图
 
### 嵌套状态
 * 一个状态中嵌套多个状态，这多个状态有共享的迁移和事件
 
 
### 聚合并发
 * 一个汽车由多个部件组成，每个部件又是一个状态图，不同状态图是并发执行
 
### 对象内并发
 * 
 
### 类和状态模型的关系
 * 状态模型详细描述了类模型中对象所允许的变化序列。
   
   
    
   