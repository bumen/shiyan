### Dirty hack
 * 以不符合设计原理 / 不易维护 / 不易调整 / 不够健壮 / 不够美观的方式解决问题。
 
 
## 一个好系统的设计目标
 * 实现可扩展性
   + 增加一个功能不会影响其它功能
   + 开-闭原则，里氏代换原则，依赖倒转原则，组合/聚合原则
 * 实现灵活性
   + 对一个功能的修改不会影响到其它功能
   + 开-闭原则，迪米特法则，接口隔离原则
 * 实现可插入性
   + 代替功能不会有影响
   + 开-闭原则，里氏代换原则，组合/聚合原则，依赖倒转原则
   
## 系统的重要特性
 * 通过这两个特性来实现系统的设计目标
 * 可复用性
   + 提高生产效率
      - 只要从成本考虑，复用越高，开发成本越低
   + 提高软件质量
      - 一个功能有缺陷时，可以更快被删除，替换
   + 改善系统可维护性
      - 复用性越高，就越可以被替换
 * 可维护性
 
### 传统可复用性
 * 代码复用
 * 算法复用
 * 数据结构复用
 * 缺点
   + 破坏可维护性
   > 如：A与B两个功能都使用C模块。如果A需要增加C的一个新的行为时，但B不需要时。
   > 如果坚持复用，就降低了可维护性。
   > 如果保持可维护性，就要放弃复用。
   >> 所以可维护性与可复用性有共同性的两个独立特性
 * 所以要使用支持可维护性的复用
 
### 可维护性的复用
 * 怎么设计可才能即提高可维护性，也实现系统复用
 * 面向对象设计
 
### 开闭原则
 * 对扩展开放，对修改关闭
 * 里氐代换原则是对开闭原则的补充。违反里氏代换原则也就违反开闭原则，反过来不成立
 * 依赖倒转原则是实现开闭原则的手段，开闭原则是目标。违反依赖倒转原则就不可能达到开闭原则的要求。
   + 如果要实现开闭原则，必须使用依赖倒转
 * 合成/聚合原则与开闭原则相辅相成，又是实现开闭原则具体步骤的规范。
   + 优先考虑使用合成/聚合关系，在使用继承关系时，必须确定这个关系是符合一定条件的
   + 合成/聚合原则是实现开闭原则的必要条件；违反这一原则就无法系统实现开闭原则这一目标
   + **合成/聚合原则是实现开闭原则中的一个步骤，还有其它步骤（继承）。这几个步骤合在一起就可以系统的实现开闭原则**
 * 迪米特法则设计出来的系统在功能需要扩展时，会相对更容易地做到修改的关闭。是通向开闭原则的道路
   + 是实现开闭原则的另一种方式 
 * 接口隔离原则限制了通信的宽度，通信应该尽可能地窄。在系统功能扩展的过程当中，不会将修改的压力传递到其他对象。
   + 是实现开闭原则的另一种方式
 
## 设计模式

### 优缺点

#### 抽象工厂
 * 缺点：如果要想自定义product时，需要连同工厂类一起自定义