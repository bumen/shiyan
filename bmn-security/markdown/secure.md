## 安全

### 安全目标
 * 保密性
   + 数据被合法用户访问，不能被未授权的第三方使用。
 * 完整性
   + 数据在传输过程中不能被未授权方修改
 * 可用性
   + 确保所有数据在适当时候可以由授权方访问
 * 可靠性
 * 抗否性
   + 确保发送与接收方在执行各自操作后，对所做操作不可否认性
 * 可控性
   + 实现安全监制
 * 可审查性
   + 确保数据访问者(包括合法用户、攻击者、破坏者、抵赖者)的行为有证可查
 * 认证
   + 确保数据访问者与信息服务者的身份真实有效
 * 访问控制
   + 确保数据不被非授权方或以未授权方式使用。
   
### OSI安全体系结构
 * OSI开放式通信系统互联参考模型
 * 包括：网络通信、安全服务、安全机制
 * OSI安全体系结构包括五类安全服务以及八类安全机制
 * 五类安全服务
   + 认证
     - 在网络交互过程中，对收发双方身份及数据来源进行验证。
   + 访问控制服务
     - 防止未授权用户非法访问资源，包括用户身份认证和用户权限确认。
   + 数据保密性服务
     - 防止数据传输过程中被破解、泄漏
   + 数据完整性服务
     - 防止数据传输过程中被篡改。
   + 抗否认性服务
     - 防止发送方与接收方在执行各自操作后，否认各自所做的操作。
 * 八类安全机制
   + 加密机制
   + 数字签名机制
   + 访问控制机制
   + 数据完整性机制
   + 认证机制
   + 业务流填充机制
   + 路由控制机制
   + 公证机制
 * 安全服务与安全机制对应关系
   + 认证服务
     - 认证机制
     - 数据签名机制
   + 访问服务
     - 访问控制机制
     - 路由控制机制
   + 数据保密性服务
     - 加密机制
     - 业务流填充机制
   + 数据完整性服务
     - 数据完整性机制
   + 抗否认性服务
     - 公证机制
     
### TCP/IP安全体系结构
 * 由于OSI参考模型不能满足，卫星和无线网络互联问题。出现了TCP/IP参考模型
 * TCP/IP参考模型
   + 网络接口层
   + 网络层
   + 传输层
   + 应用层
   
 * 安全体系
   + 网络接口层安全
     - 指数据链路层的安全，可以通过加密方式确保数据不被窃听,通常依靠物理层加密实现。
     - 一般对通信链路两端架设加密机，对传输的电器符号进行位流加密。
   + 网络层安全
     - 网络层主要负责数据包的路由选择，
     - 网络层安全就是要确保数据包顺利到达指定目的地。一般通过路由硬件提高相应的安全性。
   + 传输层安全
     - 传输层功能是解决端到端的数据传输
     - SSL/TSL
   + 应用层安全
     
## 密码学
 * 密码学包括密码编码学与密码分析学
 * 密码体制：明文空间、密文空间、密钥空间、加密算法、解密算法构成。
 * 柯可霍夫原则：数据是基于密钥而不是算法的保密。即对密钥保密，对算法分开。
  
### 密码学分类
 * 按算法分
   + 受限制算法：即对算法的保密
   + 基于密钥算法：即柯可霍夫原则。好处是算法分开有助于安全性验证，及漏洞修复，避免设计者留下后门。
 * 按密码体制分
   + 对称密码体制
     - 加密，解密使用相同密钥
     - 加密算法 DES、AES
   + 非对称密码体制
     - 公钥、私钥
     - 加密，解密使用不同密钥
     - 加密算法：RSA
 * 按明文处理方法分
   + 分组密码
     - 将明文分成固定长度组，用同一密钥和算法对每一块加密，输出固定长度密文。多应用于网络加密
   + 流密码
     - 每次加密一个字节或一位, 应于手机平台应用，对系统资源要求极低
     - 加密算法: RC4
     
#### 对称密码体制
 * 要求加密与解密使用相同密钥
 * 分两种： 流密码、分组密码
 * 流密码
   + 加密时将明文按字符或字节进行加密
   + 同步流密码
     - 特点：如果密文位发生变化，那么该位的变化只影响该位的恢复，对后续密文位不影响
     - 适用于音频和视频数据提供版权保护。
   + 自同步
 * 分组密码
 
#### 散列函数
 * 特性
   + 消息长度不受限制
   + 对于给定消息， 散列值计算很容易
   + 散列函数具有确定性结果。
   + 算法不可逆
   + 不同消息，散列值不同
   
#### 数字签名
 * 完整性、认证性、不可否认性是数字签名的主要特征。
 * 基本要求
   + 签名者任何时候都无法否认自己曾经签发的数字签名
   + 信息接收者能够验证和确认收的数字签名，但任何人无法伪造信息发送者的数字签名
   + 当收发双方对数字签名真伪产生争议时，通过仲裁机构进行仲裁。
 * 私钥用来签名， 公钥用来验证
 * 分为单向认证和双向认证
 > 当然，我们可以对消息先加密，然后对加密后的消息做签名处理。这样乙方获得消息后，先做验证处理，
 > 如果验证通过则消息处理。反之验证失败则抛弃消息。这样做显然可以提高系统的处理速度，但即使如此，建议先对消息签名，再做加密处理。
 > 加密与签名都应该只针对原始消息处理。加密是为了确保消息在传送过程中避免被破解，签名是为了确保消息的有效性 

#### 数字证书
 * 每个人都可以生成一个自己的证书，但是别人使用时不能确定是否证书没有被修改过
   + 所以需要第三方认证。也可以理解证书有两个公章，一个是自己盖的，另一个是第三方盖的，表示第三方承认自己盖的
   + 一般第三方会对证书签名，然后你拿着第3方的公钥验证签名一致即可
   
 * 客户端验证服务器证书有效性
   + 如果是浏览器，则浏览器拿到服务器证书后会去第三验证
   + 如果不是浏览器，可能没有自动校验功能，所以客户端也需要自己去官网下预先存一份服务器证书，
   然后去请求服务器证书与自己有的证书比较，如果一致表示是安全的
   