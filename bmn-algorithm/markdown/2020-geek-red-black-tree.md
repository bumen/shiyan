### 什么是“平衡二叉查找树”？
 * 平衡二叉查找树的严格定义是这样的：二叉树中任意一个节点的左右子树的高度相差不能大于1
 * AVL树完全符合这个定义
   + 是一个高度平衡二叉查找树，所以查找的效率非常高，但是，有利就有弊。
   + AVL 树为了维持这种高度的平衡，就要付出更多的代价。每次插入、删除都要做调整，就比较复杂、耗时。
### 红黑树
 * 红黑树一个平衡二叉查找树
   + 查找，插入，删除时间复杂度都是O(log(n))
   
 * 平衡的意义
   + 其实就是让整棵树左右看起来比较“对称”、比较“平衡”，不要出现左子树很高、右子树很矮的情况。
   + 这样就能让整棵树的高度相对来说低一些，相应的插入、删除、查找等操作的效率高一些。
   
 * 设计原则
   + 如果我们现在设计一个新的平衡二叉查找树，只要树的高度不比 log2n 大很多（比如树的高度仍然是对数量级的），
   尽管它不符合我们前面讲的严格的平衡二叉查找树的定义，但我们仍然可以说，这是一个合格的平衡二叉查找树

 * 红黑树满足要求
   1. 根节点是黑色的
   2. 每个叶子节点都是黑色的空节点（NIL），也就是说，叶子节点不存储数据
   3. 任何相邻的节点都能同时为红色，也就是说，红色节点是被黑色节点隔开的
   4. 每个节点，从该节点到达其可达叶子节点的所有路径，都包含相同数目的黑色节点
   
 * 时间复杂度分析
   + A: 表示红色节点， B: 表示黑色节点
   + 删除红色节点之后，有些节点就没有父节点了，它们会直接拿这些节点的祖父节点作为父节点。所以之前的二叉树就成了多叉树
   + 所以只包含黑色节点的多叉树，比包含相同节点个数的完全二叉树高度还要小
     ``` 
                 红黑树                                把所有红色节点去掉
                        B                                   B
                B               B                   B               B
                                                  -   -         -   -   -
             A      A      B         A          B      B      B     B     B
           -          -            -   -
         B              B        B       B
     ```
   + 我们现在知道只包含黑色节点的“黑树”的高度，那我们现在把红色节点加回去，高度会变成多少呢？
      - 在红黑树中，红色节点不能相邻，也就是说，有一个红色节点就要至少有一个黑色节点，将它跟其他红色节点隔开
      - 红黑树中包含最多黑色节点的路径不会超过 log2n，所以加入红色节点之后，最长路径不会超过 2log2n，
      也就是说，红黑树的高度近似 2log2n。
      
   + 所以，红黑树的高度只比高度平衡的 AVL 树的高度（log2n）仅仅大了一倍。
   在性能上，下降得并不多。这样推导出来的结果不够精确，实际上红黑树的性能更好。
   